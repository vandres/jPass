(function(f){f.widget("va.jpass",{options:{maxValue:20,minCharacter:4},_create:function(){this._parent=this.element.parent();this._on({keyup:"_keyup"})},_init:function(){this._parent.addClass("jpass").addClass("jpass-0")},_keyup:function(){this.calculate()},_destroy:function(){this._removeClasses().removeClass("jpass")},_removeClasses:function(){var d=this._parent.get(0),e=d.className.split(" ").filter(function(a){return 0!==a.lastIndexOf("jpass-",0)});d.className=f.trim(e.join(" "));return this._parent},
    calculate:function(){for(var d=this.element.val(),e=d.length,a=0,b=0,c=0,b=0;b<e;b++)c=d.charCodeAt(b)*b%9,0===c&&(c=9),a=a+c<=this.options.maxValue?a+c:c-(this.options.maxValue-a);b<this.options.minCharacter&&(a=0);this._removeClasses().addClass("jpass-"+a)}})})(jQuery);
