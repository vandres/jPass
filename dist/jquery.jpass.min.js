(function(f){f.widget("va.jpass",{options:{maxValue:20,minCharacter:4},_create:function(){this._parent=this.element.parent();this._on({keyup:"_keyup"})},_init:function(){this._parent.addClass("jpass").addClass("jpass-0")},_keyup:function(){this.calculate()},_destroy:function(){this._removeClasses().removeClass("jpass")},_removeClasses:function(){var c=this._parent.get(0),e=c.className.split(" ").filter(function(a){return 0!==a.lastIndexOf("jpass-",0)});c.className=f.trim(e.join(" "));return this._parent},
    calculate:function(){for(var c=this.element.val(),e=c.length,a=0,d=0,b=0,d=0;d<e;d++)b=c.charCodeAt(d)%9,0===b&&(b=9),a=a+b<=this.options.maxValue?a+b:b-(this.options.maxValue-a);d<this.options.minCharacter&&(a=0);this._removeClasses().addClass("jpass-"+a)}})})(jQuery);
